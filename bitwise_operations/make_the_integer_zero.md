# Make the Integer Zero

**난이도:** Medium  
**문제 링크:** [LeetCode - Make the Integer Zero](https://leetcode.com/problems/number-of-zero-filled-subarrays/)

## 문제 설명

두 정수 `num1`과 `num2`가 주어집니다.

한 번의 **연산**에서 다음을 수행할 수 있습니다:
- 음이 아닌 정수 `i`를 선택하고, `num1`에서 `2^i + num2`를 뺍니다.

**정확히 `k`번의 연산**을 수행한 후 `num1`이 `0`이 되도록 하는 최소 `k`를 반환하세요. 불가능하면 `-1`을 반환하세요.

## 제약 조건

- `1 <= num1 <= 10⁹`
- `-10⁹ <= num2 <= 10⁹`

## 예제

### 예제 1
**입력:** `num1 = 3, num2 = -2`  
**출력:** `3`  
**설명:**
- 연산 1: i=2 선택, 3 - (2² - 2) = 3 - 2 = 1
- 연산 2: i=2 선택, 1 - (2² - 2) = 1 - 2 = -1
- 연산 3: i=0 선택, -1 - (2⁰ - 2) = -1 - (-1) = 0

### 예제 2
**입력:** `num1 = 5, num2 = 7`  
**출력:** `-1`  
**설명:** 불가능합니다.

## 솔루션

### 코드
```typescript
function makeTheIntegerZero(num1: number, num2: number): number {
    // k번의 연산 시도 (최대 60번)
    for (let k = 1; k <= 60; k++) {
        // x = num1 - num2 * k
        // k번 연산 후 남아야 할 "2의 거듭제곱들의 합"
        const x = BigInt(num1) - BigInt(num2) * BigInt(k);
        
        // x가 k보다 작으면 불가능 (최소 k개의 2의 거듭제곱이 필요)
        if (x < BigInt(k)) return -1;
        
        // x를 이진수로 변환하여 1의 개수(set bits) 계산
        // 1의 개수가 k 이하면 가능
        if (x.toString(2).split("1").length - 1 <= k) return k;
    }
    
    return -1;
}
```

### 접근 방법

**비트 조작(Bit Manipulation)**과 **수학적 분석**을 사용합니다.

1. **수식 변환**:
   - k번의 연산: `num1 - (2^i1 + num2) - (2^i2 + num2) - ... - (2^ik + num2) = 0`
   - 정리하면: `num1 - k*num2 = 2^i1 + 2^i2 + ... + 2^ik`
   - 즉, `x = num1 - k*num2`는 k개의 2의 거듭제곱의 합이어야 합니다.

2. **조건 확인**:
   - **최소 조건**: `x >= k` (최소한 k개의 2⁰을 사용해야 하므로)
   - **비트 조건**: x를 이진수로 표현했을 때 1의 개수(set bits)가 k 이하여야 합니다.
     - 예: x=5 (이진수 `101`)는 2개의 2의 거듭제곱으로 표현 가능 (2² + 2⁰)
     - 하지만 k=3이면 2⁰을 추가로 사용하여 3개로 만들 수 있음: 2² + 2⁰ + 2⁰

3. **비트 카운트 이해**:
   - x의 이진수 표현에서 1의 개수 = 최소한으로 필요한 2의 거듭제곱 개수
   - 1의 개수가 k 이하면, 2⁰을 추가하여 정확히 k개로 만들 수 있습니다.

4. **60번만 시도하는 이유**:
   - `num1 <= 10⁹ ≈ 2³⁰`
   - k가 너무 크면 `x = num1 - k*num2`가 음수가 되거나 조건을 만족할 수 없습니다.
   - 실제로는 60번 이내에 답을 찾을 수 있습니다.

**핵심 아이디어:**
- k번 연산의 목표는 `num1 - k*num2`를 k개의 2의 거듭제곱의 합으로 표현하는 것입니다.
- 이진수의 1의 개수가 필요한 최소 항의 개수이고, 2⁰을 추가하여 개수를 늘릴 수 있습니다.

### 시간 복잡도
**`O(1)`**

- 최대 60번 반복하므로 상수 시간입니다.

### 공간 복잡도
**`O(1)`**

- 추가 공간 없이 변수 몇 개만 사용합니다.
